(this["webpackJsonpstar-db"]=this["webpackJsonpstar-db"]||[]).push([[0],[,,,,,,,,,,function(e,t,a){e.exports=a.p+"static/media/error.b2138751.svg"},function(e,t,a){e.exports=a(25)},,,,,function(e,t,a){},function(e,t,a){},,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(9),s=a.n(l),c=a(1),o=a(2),i=a(4),u=a(3),m=a(5),p=(a(16),function(e){function t(){return Object(c.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"d-flex header"},r.a.createElement("h1",null,r.a.createElement("a",{href:"#/"},"Star DB")),r.a.createElement("ul",{className:"d-flex"},r.a.createElement("li",null,r.a.createElement("a",{href:"#/people",className:""},"People")),r.a.createElement("li",null,r.a.createElement("a",{href:"#/planets",className:""},"Planets")),r.a.createElement("li",null,r.a.createElement("a",{href:"#ships",className:""},"Ships"))))}}]),t}(r.a.Component)),h=(a(17),a(6)),d=a.n(h),f=a(7),E=function e(){var t=this;Object(c.a)(this,e),this._apiBase="https://swapi.co/api",this.getResourse=function(){var e=Object(f.a)(d.a.mark((function e(a){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(t._apiBase).concat(a));case 2:return n=e.sent,e.abrupt("return",n.json());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.getAllPeople=Object(f.a)(d.a.mark((function e(){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getResourse("/people/");case 2:return a=e.sent,e.abrupt("return",a.results.map(t._transformPerson));case 4:case"end":return e.stop()}}),e)}))),this.getPerson=function(){var e=Object(f.a)(d.a.mark((function e(a){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getResourse("/people/".concat(a,"/"));case 2:return n=e.sent,e.abrupt("return",t._transformPerson(n));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.getAllPlanets=Object(f.a)(d.a.mark((function e(){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getResourse("/planets/");case 2:return a=e.sent,e.abrupt("return",a.results.map(t._transformPlanet));case 4:case"end":return e.stop()}}),e)}))),this.getPlanet=function(){var e=Object(f.a)(d.a.mark((function e(a){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getResourse("/planets/".concat(a,"/"));case 2:return n=e.sent,e.abrupt("return",t._transformPlanet(n));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this._extractId=function(e){return e.url.match(/\/(\d)*\/$/)[1]},this._transformPerson=function(e){return{id:t._extractId(e),name:e.name,mass:e.mass,birthYear:e.birth_year,gender:e.gender,eyeColor:e.eye_color}},this._transformPlanet=function(e){return{id:t._extractId(e),name:e.name,diameter:e.diameter,climate:e.climate,rotationPeriod:e.rotation_period,terrain:e.terrain,population:e.population}}},v=(a(19),function(){return r.a.createElement("div",{className:"lds-css"},r.a.createElement("div",{className:"lds-double-ring"},r.a.createElement("div",null),r.a.createElement("div",null)))}),g=(a(20),a(10)),b=a.n(g);var j=function(){return r.a.createElement("div",{className:"d-flex error-indicator"},b.a,r.a.createElement("span",null,"BOOM!"),r.a.createElement("span",null,"Something went wrong"),r.a.createElement("span",null,"we've already sent droids to fix it"))};function y(e){var t=e.planet;return r.a.createElement(r.a.Fragment,null,r.a.createElement("img",{src:"https://starwars-visualguide.com/assets/img/planets/".concat(t.id,".jpg")}),r.a.createElement("div",{className:""},r.a.createElement("ul",{className:"list-group"},r.a.createElement("li",null,r.a.createElement("h3",null,"Planet")),r.a.createElement("li",{className:"list-group-item"},r.a.createElement("span",null,"name")," ",r.a.createElement("span",null,t.name)),r.a.createElement("li",{className:"list-group-item"},r.a.createElement("span",null,"diameter")," ",r.a.createElement("span",null,t.diameter)),r.a.createElement("li",{className:"list-group-item"},r.a.createElement("span",null,"population")," ",r.a.createElement("span",null,t.population)),r.a.createElement("li",{className:"list-group-item"},r.a.createElement("span",null,"climate")," ",r.a.createElement("span",null,t.climate)),r.a.createElement("li",{className:"list-group-item"},r.a.createElement("span",null,"terrain")," ",r.a.createElement("span",null,t.terrain)),r.a.createElement("li",{className:"list-group-item"},r.a.createElement("span",null,"rotation period")," ",r.a.createElement("span",null,t.rotationPeriod)))))}var O=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).SwapiService=new E,a.state={planet:{},loading:!0,error:!1},a.onPlanetLoaded=function(e){a.setState({planet:e,loading:!1})},a.updatePlanet=function(){var e=Math.floor(25*Math.random())+2;a.SwapiService.getPlanet(e).then(a.onPlanetLoaded).catch(a.onError)},a.onError=function(e){a.setState({error:!0,loading:!1})},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.updatePlanet(),this.interval=setInterval(this.updatePlanet,3e3),console.log("mount")}},{key:"componentWillUnmount",value:function(){console.log("unmount"),clearInterval(this.interval)}},{key:"render",value:function(){console.log(this.state);var e=this.state.error?r.a.createElement(j,null):null,t=!(this.state.loading||this.state.error),a=this.state.loading?r.a.createElement(v,null):null,n=t?r.a.createElement(y,{planet:this.state.planet}):null;return r.a.createElement("div",{className:"d-flex random-planet"},e,a,n)}}]),t}(r.a.Component),P=(a(21),function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={renderError:!1},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this;return this.state.renderError&&(this.foo.bar=0),r.a.createElement("input",{type:"button",className:"btn btn-danger error-button",onClick:function(){return e.setState({renderError:!0})},value:"error button"})}}]),t}(r.a.Component)),w=(a(22),a(23),function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={people:null},a.onPeopleLoaded=function(e){a.setState({people:e})},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.updataPeopleList()}},{key:"updataPeopleList",value:function(){this.props.getData().then(this.onPeopleLoaded)}},{key:"randerItems",value:function(e){var t=this;return e.map((function(e){var a=e.id,n=e.name;return r.a.createElement("li",{className:"list-group-item",key:a,onClick:function(){return t.props.onSelectPerson(a)}},n)}))}},{key:"render",value:function(){if(!this.state.people)return r.a.createElement(v,null);var e=this.randerItems(this.state.people);return r.a.createElement("div",{className:"item-list"},r.a.createElement("ul",{className:"list-group list-group-flush"},e))}}]),t}(r.a.Component)),N=(a(24),function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).SwapiService=new E,a.state={person:null},a.updatePerson=function(){a.props.personId&&a.SwapiService.getPerson(a.props.personId).then((function(e){a.setState({person:e})}))},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDudMount",value:function(){this.updatePerson()}},{key:"componentDidUpdate",value:function(e){console.log("updated"),this.props.personId!==e.personId&&this.updatePerson()}},{key:"render",value:function(){if(console.log("props",this.props),console.log("state",this.state),!this.state.person)return r.a.createElement("div",{className:"details-placeholder"},"Select person from the list");var e=this.state.person,t=e.id,a=e.name,n=e.eyeColor,l=e.gender,s=e.birthYear,c=e.mass;return r.a.createElement("div",{className:"d-flex person-details"}," ",r.a.createElement("img",{src:"https://starwars-visualguide.com/assets/img/characters/".concat(t,".jpg")}),r.a.createElement("ul",{className:"list-group list-group-flush"},r.a.createElement(P,null),r.a.createElement("li",{className:"list-group-item"},r.a.createElement("span",null,"name "),r.a.createElement("span",null,a)),r.a.createElement("li",{className:"list-group-item"},r.a.createElement("span",null,"eyeColor "),r.a.createElement("span",null,n)),r.a.createElement("li",{className:"list-group-item"},r.a.createElement("span",null,"gender "),r.a.createElement("span",null,l)),r.a.createElement("li",{className:"list-group-item"},r.a.createElement("span",null,"birth year "),r.a.createElement("span",null,s)),r.a.createElement("li",{className:"list-group-item"},r.a.createElement("span",null,"mass "),r.a.createElement("span",null,c))))}}]),t}(r.a.Component)),S=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={selectedPerson:null,hasError:!1},a.swapiService=new E,a.onPersonSelected=function(e){a.setState({selectedPerson:e})},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidCatch",value:function(){this.setState({hasError:!0})}},{key:"componentDidCatch",value:function(){this.setState({hasError:!0})}},{key:"render",value:function(){return this.state.hasError?r.a.createElement(j,null):r.a.createElement("div",{className:"d-flex "},r.a.createElement(w,{onSelectPerson:this.onPersonSelected,getData:this.swapiService.getAllPeople}),r.a.createElement(N,{personId:this.state.selectedPerson}))}}]),t}(r.a.Component),k=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={showRandomPlanet:!0,hasError:!1},a.toggleRandomPlanet=function(){a.setState({showRandomPlanet:!a.state.showRandomPlanet})},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidCatch",value:function(){this.setState({hasError:!0})}},{key:"render",value:function(){if(this.state.hasError)return r.a.createElement(j,null);var e=this.state.showRandomPlanet?r.a.createElement(O,null):null;return r.a.createElement("div",{className:"star-db"},r.a.createElement(p,null),e,r.a.createElement("div",null,r.a.createElement("input",{type:"button",className:"btn btn-warning",value:"toggle random planet",onClick:this.toggleRandomPlanet}),r.a.createElement(P,null)),r.a.createElement(S,null),r.a.createElement(S,null),r.a.createElement(S,null))}}]),t}(r.a.Component);s.a.render(r.a.createElement(k,null),document.querySelector("#root"))}],[[11,1,2]]]);
//# sourceMappingURL=main.57c2261a.chunk.js.map