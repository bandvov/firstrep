{"ast":null,"code":"export default class SwapoService {\n  constructor() {\n    this._apiBase = \"https://swapi.co/api\";\n  }\n\n  async getResourse(url) {\n    const res = await fetch(\"\".concat(this._apiBase).concat(url));\n\n    if (!res.ok) {\n      throw new Error(\"could not fetch \".concat(url, \" received \").concat(res.status));\n    }\n\n    return await res.json();\n  }\n\n  async getAllPeople() {\n    const res = await this.getResourse(\"/people/\");\n    console.log(res.results);\n    return res.results; // .map(this._transformPerson);\n  }\n\n  async getPerson(id) {\n    const person = await this.getResourse(\"/people/\".concat(id, \"/\"));\n    return this._transformPerson(person);\n  }\n\n  async getAllPlanets() {\n    const res = await this.getResourse(\"/planets/\");\n    return res.results.map(this._transformPlanet);\n  }\n\n  async getPlanet(id) {\n    const planet = await this.getResourse(\"/planets/\".concat(id, \"/\"));\n    return this._transformPlanet(planet);\n  }\n\n  async getAllStarships() {\n    const res = await this.getResourse(\"/starships/\");\n    return res.results.map(this._transformStarship);\n  }\n\n  async getStarship(id) {\n    const starship = await this.getResourse(\"/starships/\".concat(id, \"/\"));\n    return this._transformStarship(starship);\n  }\n\n  _extractId(item) {\n    const regEx = /\\/(\\d*)\\/$/;\n    return item.url.match(regEx)[1];\n  }\n\n  _transformPlanet(planet) {\n    return {\n      id: this._extractId(planet),\n      name: planet.name,\n      population: planet.population,\n      diameter: planet.diameter,\n      rotation: 44\n    };\n  }\n\n  _transformStarship(starship) {\n    return {\n      id: this._transformStarship(starship),\n      model: starship.model,\n      length: starship.length,\n      crew: starship.crew,\n      passangers: starship.passangers,\n      cargoCapacity: starship.cargoCapacity\n    };\n  }\n\n  _transformPerson(person) {\n    console.log(person);\n    return {\n      id: this._extractId(person),\n      name: person.name,\n      gender: person.gender,\n      birthYear: person.birthYear,\n      eyeColor: person.eyeColor\n    };\n  }\n\n}","map":{"version":3,"sources":["C:/Users/Admin/Desktop/VS Code project/REACT/star-db/src/services/SwapiService.js"],"names":["SwapoService","_apiBase","getResourse","url","res","fetch","ok","Error","status","json","getAllPeople","console","log","results","getPerson","id","person","_transformPerson","getAllPlanets","map","_transformPlanet","getPlanet","planet","getAllStarships","_transformStarship","getStarship","starship","_extractId","item","regEx","match","name","population","diameter","rotation","model","length","crew","passangers","cargoCapacity","gender","birthYear","eyeColor"],"mappings":"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","sourcesContent":["export default class SwapoService {\r\n  _apiBase = \"https://swapi.co/api\";\r\n\r\n  async getResourse(url) {\r\n    const res = await fetch(`${this._apiBase}${url}`);\r\n    if (!res.ok) {\r\n      throw new Error(`could not fetch ${url} received ${res.status}`);\r\n    }\r\n    return await res.json();\r\n  }\r\n  async getAllPeople() {\r\n    const res = await this.getResourse(\"/people/\");\r\n   console.log(res.results);\r\n    return res.results;\r\n    // .map(this._transformPerson);\r\n  }\r\n  async getPerson(id) {\r\n    const person = await this.getResourse(`/people/${id}/`);\r\n    return this._transformPerson(person);\r\n  }\r\n  async getAllPlanets() {\r\n    const res = await this.getResourse(\"/planets/\");\r\n    return res.results.map(this._transformPlanet);\r\n  }\r\n  async getPlanet(id) {\r\n    const planet = await this.getResourse(`/planets/${id}/`);\r\n    return this._transformPlanet(planet);\r\n  }\r\n  async getAllStarships() {\r\n    const res = await this.getResourse(\"/starships/\");\r\n    return res.results.map(this._transformStarship);\r\n  }\r\n  async getStarship(id) {\r\n    const starship = await this.getResourse(`/starships/${id}/`);\r\n    return this._transformStarship(starship);\r\n  }\r\n  _extractId(item) {\r\n    const regEx = /\\/(\\d*)\\/$/;\r\n    return item.url.match(regEx)[1];\r\n  }\r\n  _transformPlanet(planet) {\r\n    return {\r\n      id: this._extractId(planet),\r\n      name: planet.name,\r\n      population: planet.population,\r\n      diameter: planet.diameter,\r\n      rotation: 44\r\n    };\r\n  }\r\n  _transformStarship(starship) {\r\n    return {\r\n      id: this._transformStarship(starship),\r\n      model: starship.model,\r\n      length: starship.length,\r\n      crew: starship.crew,\r\n      passangers: starship.passangers,\r\n      cargoCapacity: starship.cargoCapacity\r\n    };\r\n  }\r\n  _transformPerson(person) {\r\n    console.log(person);\r\n    \r\n    return {\r\n      id: this._extractId(person),\r\n      name: person.name,\r\n      gender: person.gender,\r\n      birthYear: person.birthYear,\r\n      eyeColor: person.eyeColor\r\n    };\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}